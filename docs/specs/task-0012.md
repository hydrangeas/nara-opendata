# [タスク番号0012]: イベントバスの実装

## 説明
ドメインイベントの発行と配信を管理するイベントバスを実装する。インメモリーでの実装とし、非同期での遅延ディスパッチ機能を提供する。

## タスク種別
- [x] 機能実装
- [ ] バグ修正
- [ ] リファクタリング
- [ ] テスト
- [ ] ドキュメント
- [ ] 調査

## 優先度
中

## 見積もり工数
[ストーリーポイント: 2] (約0.5日)

## 依存関係
- 前提タスク: #0007
- 関連タスク: なし

## 受け入れ基準
- [ ] EventBusImplクラスが実装されている
- [ ] イベントの購読（subscribe）機能が実装されている
- [ ] イベントの発行（publish、publishAll）機能が実装されている
- [ ] 遅延ディスパッチ機能が実装されている
- [ ] イベントハンドラーの型安全な管理が実装されている
- [ ] エラーハンドリング（ハンドラーの例外処理）が実装されている
- [ ] 単体テストが作成されている
- [ ] 並行処理の安全性が確保されている

## 技術的な詳細
- packages/infrastructureディレクトリに配置
- Map<string, IEventHandler[]>でハンドラーを管理
- setImmediateまたはPromise.resolve()で非同期実行
- エラー発生時は個別にログ記録（全体の処理は継続）
- WeakMapを使用したメモリリーク対策（オプション）