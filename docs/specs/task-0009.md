# [タスク番号0009]: レート制限リポジトリ実装

## 説明
APIレート制限に関するリポジトリの実装を行う。RateLimitRepositoryをSupabaseデータベースに対して実装し、スライディングウィンドウ方式でリクエスト数を管理する。

## タスク種別
- [x] 機能実装
- [ ] バグ修正
- [ ] リファクタリング
- [ ] テスト
- [ ] ドキュメント
- [ ] 調査

## 優先度
高

## 見積もり工数
[ストーリーポイント: 3] (約1.5日)

## 依存関係
- 前提タスク: #0002, #0004
- 関連タスク: #0010（ログリポジトリ）

## 受け入れ基準
- [ ] RateLimitRepositoryImplが実装されている
- [ ] スライディングウィンドウ方式のクエリが実装されている
- [ ] IDatabaseインターフェースとSupabase実装が作成されている
- [ ] トランザクション処理が実装されている
- [ ] user_idとrequested_atの複合インデックス設計が実装されている
- [ ] 統合テストが作成されている
- [ ] パフォーマンステストで1秒以内のレスポンスが確認されている

## 技術的な詳細
- packages/infrastructureディレクトリに配置
- Supabase JavaScriptクライアントを使用
- RLSを考慮したクエリ実装
- user_idとrequested_atの複合インデックス
- スライディングウィンドウ（1分間）のクエリ最適化
- pg_cronによるTTL設定は別途Supabase側で設定